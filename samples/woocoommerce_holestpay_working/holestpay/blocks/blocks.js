(()=>{"use strict";var e={20:(e,t,n)=>{var o=n(609),a=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var o,c={},p=null,l=null;for(o in void 0!==n&&(p=""+n),void 0!==t.key&&(p=""+t.key),void 0!==t.ref&&(l=t.ref),t)r.call(t,o)&&!i.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===c[o]&&(c[o]=t[o]);return{$$typeof:a,type:e,key:p,ref:l,props:c,_owner:s.current}}},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};window.wp.i18n;const n=window.wc.wcBlocksRegistry,o=window.wc.blocksCheckout,a=window.wp.htmlEntities,r=window.wc.wcSettings,s=window.wp.element;var i=function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(848);const c=(0,r.getSetting)("paymentMethodData",{}),p=e=>{const{PaymentMethodLabel:t}=e.components;return(0,i.jsx)(t,{text:e.labelText})},l=e=>{const{eventRegistration:t,emitResponse:n}=e,{onPaymentSetup:o,onCheckoutSuccess:r}=t;return(0,s.useEffect)((()=>{const t=o((async()=>{let t={};t[e.hpayUid+"_is_user_input"]=1;try{t[e.hpayUid+"_payresult"]="",document.getElementById(e.hpayUid+"_payresult")&&(t[e.hpayUid+"_payresult"]=document.getElementById(e.hpayUid+"_payresult").value);let n=document.querySelector("input[name='"+e.hpayUid+"_vault_token_id']:checked");if(n&&(t[e.hpayUid+"_vault_token_id"]=n.getAttribute("value"),n.parentNode)){let o=n.parentNode.querySelector("select[name='"+e.hpayUid+"_monthly_installments']");o&&o.value&&parseInt(o.value)>=2&&(t[e.hpayUid+"_monthly_installments"]=String(o.value))}}catch(e){console.error(e)}return{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:t}}})),a=r((async e=>(e&&e.processingResponse&&e.processingResponse.paymentDetails&&e.processingResponse.paymentDetails.messages&&jQuery(e.processingResponse.paymentDetails.messages).appendTo("BODY"),!1)));return()=>{t(),a()}}),[n.responseTypes.ERROR,n.responseTypes.SUCCESS,o]),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,a.decodeEntities)(e.contentHtml||"")}})};for(var y in c)if(c.hasOwnProperty(y)&&/^hpaypayment-/.test(y)){window.__onHPayPanelClose||(window.__onHPayPanelClose=!0,document.addEventListener("onHPayPanelClose",(function(e){try{wp.data.dispatch("wc/store/checkout").__internalSetIdle()}catch(e){window.location.reload()}}),!0));try{(0,n.registerPaymentMethod)({name:y,label:(0,i.jsx)(p,{labelText:c[y].title}),content:(0,i.jsx)(l,{hpayUid:y,contentHtml:c[y].description}),edit:(0,i.jsx)(l,{hpayUid:y,contentHtml:c[y].description}),canMakePayment:()=>!0,ariaLabel:(0,a.decodeEntities)(c[y].title),supports:{features:c[y].supports||[]}})}catch(e){console.error(e)}}(0,o.registerCheckoutFilters)("hpay-extension",{totalLabel:(e,t,n)=>{if(n&&n.cart&&n.cart.extensions&&n.cart.extensions.hpay&&n.cart.extensions.hpay.cart&&"undefined"!=typeof HolestPayCheckout){HolestPayCheckout.cart=n.cart.extensions.hpay.cart;try{let e=new Event("onHpayCartUpdated");e.cart=HolestPayCheckout.cart,document.dispatchEvent(e)}catch(e){console.error(e)}}return e}})})();